# üåê DHCP REST API Server

[![Go Version](https://img.shields.io/badge/Go-1.21+-00ADD8?logo=go&logoColor=white)](https://golang.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![API Documentation](https://img.shields.io/badge/API-Documentation-ff69b4)](docs/API.md)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](CONTRIBUTING.md)

–ú–æ—â–Ω—ã–π REST API —Å–µ—Ä–≤–µ—Ä –Ω–∞ Go –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ Linux –∏ ISC DHCP —Å–µ—Ä–≤–µ—Ä–æ–º —Å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤** - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
- ‚öôÔ∏è **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DHCP —Å–µ—Ä–≤–µ—Ä–æ–º** - –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π ISC DHCP
- üîÑ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É–∂–±–æ–π** - –ó–∞–ø—É—Å–∫, –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ DHCP —á–µ—Ä–µ–∑ API
- üìù **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤** - –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –ù–∞–¥–µ–∂–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- üê≥ **Docker –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏
- üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Go 1.21+
- ISC DHCP Server
- Linux –æ–∫—Ä—É–∂–µ–Ω–∏–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/masha704/dhcp-api-server.git
cd dhcp-api-server

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
go mod download

# –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
go build -o dhcp-api-server

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ (—Ç—Ä–µ–±—É–µ—Ç sudo –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è DHCP)
sudo ./dhcp-api-server
```
üì° API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

GET	/api/interfaces	–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
GET	/api/dhcp/config	–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è DHCP
POST	/api/dhcp/config	–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ DHCP
GET	/api/dhcp/status	–°—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã DHCP
POST	/api/dhcp/control	–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É–∂–±–æ–π DHCP

üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
```bash
curl http://localhost:8080/api/interfaces | jq
```
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ DHCP
```bash
curl http://localhost:8080/api/dhcp/status
```
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è DHCP —Å–µ—Ä–≤–µ—Ä–∞
```bash
curl -X POST http://localhost:8080/api/dhcp/config \
  -H "Content-Type: application/json" \
  -d '{
    "interface": "eth0",
    "default_lease_time": 600,
    "max_lease_time": 7200,
    "range_start": "192.168.1.100",
    "range_end": "192.168.1.200",
    "subnet": "192.168.1.0",
    "netmask": "255.255.255.0",
    "dns_servers": "8.8.8.8, 8.8.4.4",
    "gateway": "192.168.1.1"
  }'
```
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É–∂–±–æ–π
```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–ª—É–∂–±—ã
curl -X POST http://localhost:8080/api/dhcp/control \
  -H "Content-Type: application/json" \
  -d '{"action": "restart"}'
```
üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```text
dhcp-api-server/
‚îú‚îÄ‚îÄ src/                    # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ main.go            # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª
‚îÇ   ‚îú‚îÄ‚îÄ handlers/          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ API
‚îÇ   ‚îî‚îÄ‚îÄ utils/             # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ docs/                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ API.md            # API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ SETUP.md          # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
‚îú‚îÄ‚îÄ scripts/               # –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ tests/                 # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ go.mod                # Go –º–æ–¥—É–ª–∏
‚îú‚îÄ‚îÄ go.sum                # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
‚îú‚îÄ‚îÄ docker-compose.yml    # Docker Compose
‚îî‚îÄ‚îÄ README.md             # –≠—Ç–æ—Ç —Ñ–∞–π–ª

```
üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
Go - –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

ISC DHCP Server - DHCP —Å–µ—Ä–≤–µ—Ä

REST API - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Å—Ç–∏–ª—å

Linux Networking - –†–∞–±–æ—Ç–∞ —Å —Å–µ—Ç–µ–≤—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏

üìä –û—Ç–≤–µ—Ç API
–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
```json
{
  "status": "success",
  "data": {...},
  "message": "Operation completed successfully"
}
```
–û—à–∏–±–∫–∞
```json
{
  "status": "error",
  "error": "Invalid configuration parameters",
  "details": "Range start must be valid IP address"
}
```

üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

